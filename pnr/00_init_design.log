 
                              IC Compiler II (TM)

                  Version V-2023.12 for linux64 - Nov 23, 2023
  This release has significant feature enhancements. Please review the Release
                       Notes associated with this release.

                    Copyright (c) 1988 - 2023 Synopsys, Inc.
   This software and the associated documentation are proprietary to Synopsys,
 Inc. This software may only be used in accordance with the terms and conditions
 of a written license agreement with Synopsys, Inc. All other use, reproduction,
   or distribution of this software is strictly prohibited.  Licensed Products
     communicate with Synopsys servers for the purpose of providing software
    updates, detecting software piracy and verifying that customers are using
    Licensed Products in conformity with the applicable License Key for such
  Licensed Products. Synopsys will use information gathered in connection with
    this process to deliver software updates and pursue software pirates and
                                   infringers.

 Inclusivity & Diversity - Visit SolvNetPlus to read the "Synopsys Statement on
            Inclusivity and Diversity" (Refer to article 000036315 at
                        https://solvnetplus.synopsys.com)

Error: This script has expired. Please contact Aditya/Amir/Wei-Chih.
################################################################################
## AS501
## Final Project
## Initialize design (Design setup & floorplan)
################################################################################
## Copyright (c) 2024 by Smart Energy-Efficient Design Lab. (SEED), KAIST
## All rights reserved.
##
##                            Written by Jihwan Cho (jihwancho@kaist.ac.kr)
##                            Supervised by Wanyeong Jung (wanyeong@kaist.ac.kr)
################################################################################
################################################################################
## Don't touch
source -echo ./setup/icc2_common_setup.tcl
################################################################################
## AS501
## Final Project
## IC Compiler II common setup
################################################################################
## Copyright (c) 2024 by Smart Energy-Efficient Design Lab. (SEED), KAIST
## All rights reserved.
##
##                            Written by Jihwan Cho (jihwancho@kaist.ac.kr)
##                            Supervised by Wanyeong Jung (wanyeong@kaist.ac.kr)
################################################################################
################################################################################
## Don't touch
set DESIGN_NAME                 SOC_TOP
set LIBRARY_SUFFIX              .dlib
set DESIGN_LIBRARY              ${DESIGN_NAME}${LIBRARY_SUFFIX}
##################################
## Reference Libraries
##################################
# NDM
set NDM_DIR              ./ndm
set NDM_LIST             [list $NDM_DIR/$STD_TYPE.ndm \
                               $NDM_DIR/saed32sram.ndm]
##################################
## Technology Files and setup
##################################
######### 00_init_design #########
# Tech file
set TECH_FILE                            /technology/SAED32/tech/milkyway/saed32nm_1p9m_mw.tf
# Parasitic RC Model files
set PARASITIC_WORST                      C_WORST
set TLUPLUS_FILE($PARASITIC_WORST)       /technology/SAED32/tech/star_rcxt/saed32nm_1p9m_Cmax.tluplus
set LAYER_MAP_FILE($PARASITIC_WORST)     /technology/SAED32/tech/star_rcxt/saed32nm_tf_itf_tluplus.map
set PARASITIC_BEST                       C_BEST
set TLUPLUS_FILE($PARASITIC_BEST)        /technology/SAED32/tech/star_rcxt/saed32nm_1p9m_Cmin.tluplus
set LAYER_MAP_FILE($PARASITIC_BEST)      /technology/SAED32/tech/star_rcxt/saed32nm_tf_itf_tluplus.map
# Placement Site & Symmetry
set SITE_DEFAULT                         unit
set SITE_SYMMETRY                        Y
# Routing Layer setup
set HORIZONTAL_ROUTING_LAYER_LIST        {M1 M3 M5 M7 M9}
set VERTICAL_ROUTING_LAYER_LIST          {M2 M4 M6 M8}
set MIN_ROUTING_LAYER                        M1
set MAX_ROUTING_LAYER                        M6
######### 01_place_opt ##########
# Cells used for CTS
set CTS_CELLS                            {*/NBUFF* */INVX* */DEL*}
# TIE Cells
set TIE_CELLS                            {*/TIE*}
######### 02_clock_opt ##########
#
######### 03_route_auto #########
set ANTENNA_RULE                         /technology/SAED32/tech/milkyway/saed32nm_ant_1p9m.tcl
######### 04_route_opt ##########
#
######### 05_sign_off ###########
# Filler Cells
set FILLER_CELLS                         {*/SHFILL128_* */SHFILL64_* */SHFILL3_* */SHFILL2_* */SHFILL1_*}
# ICV In-Design DRC
set ICV_DRC_RULE_FILE                    /technology/SAED32/tech/icv_drc/saed32nm_1p9m_drc_rules.rs
######### 06_write_data #########
#
##################################
## Design Data
##################################
# Verilog(Netlist), UPF(Power intent), SDC(Timing Constraint)
set SYN_OUT_DIR                          ../syn/out/
set DESIGN_DATA_DIR                      ./design_data
set VERILOG_NETLIST_FILE                 ${SYN_OUT_DIR}/${DESIGN_NAME}.mapped.v
set SDC_FILE                             ${SYN_OUT_DIR}/${DESIGN_NAME}.mapped.sdc
set UPF_FILE                             ${DESIGN_DATA_DIR}/${DESIGN_NAME}.upf
##################################
## User TCL scripts
##################################
# User TCL scripts sourced while executing the main PnR scripts (00_init_design -> 01_place_opt -> 02_clock_opt -> 03_route_auto -> 04_route_opt -> 05_sign_off -> 06_write_data)
# These TCL scripts should be modified depending on your design
# 00_init_design.tcl
set TCL_FLOORPLAN                        ./scripts_user/floorplan.tcl
set TCL_PNS                              ./scripts_user/pns.tcl
set TCL_MCMM_SETUP                       ./scripts_user/mcmm.tcl
# 01_place_opt.tcl
set TCL_CTS_NDR                          ./scripts_user/cts_ndr.tcl
##################################
## Multi-thread setup
##################################
# Set max number of cores
# set_host_options -max_cores 8
set_host_options -max_cores 64
set sh_continue_on_error false
##################################
## Save Block label
##################################
# Block is saved at the end of each PnR stage (save_block) with following labels
set INIT_DESIGN_BLOCK_LABEL              init_design
set PLACE_OPT_BLOCK_LABEL                place_opt
set CLOCK_OPT_BLOCK_LABEL                clock_opt
set ROUTE_AUTO_BLOCK_LABEL               route_auto
set ROUTE_OPT_BLOCK_LABEL                route_opt
set SIGN_OFF_BLOCK_LABEL                 sign_off
set WRITE_DATA_BLOCK_LABEL               write_data
##################################
## Output/Report Directory
##################################
## Directories
set OUTPUT_DIR  ./out/
set REPORT_DIR  $OUTPUT_DIR/rpt
if !{[file exists $OUTPUT_DIR]} {file mkdir $OUTPUT_DIR}
if !{[file exists $REPORT_DIR]} {file mkdir $REPORT_DIR}
##################################
## Create the design library
## Load the netlist
##################################
create_lib $DESIGN_LIBRARY -technology $TECH_FILE -ref_libs $NDM_LIST
Warning: Layer 'VIA1' 'onGrid' and 'onWireTrack' coexist. (TECH-025)
Information: Loading technology file '/technology/SAED32/tech/milkyway/saed32nm_1p9m_mw.tf' (FILE-007)
{SOC_TOP.dlib}
# Load netlist
read_verilog -top $DESIGN_NAME $VERILOG_NETLIST_FILE
Information: Reading Verilog into new design 'SOC_TOP' in library 'SOC_TOP.dlib'. (VR-012)
Loading verilog file '/home/AS20233757/AS501_assignment/syn/out/SOC_TOP.mapped.v'
Number of modules read: 59
Top level ports: 167
Total ports in all modules: 5289
Total nets in all modules: 15284
Total instances in all modules: 9164
Elapsed = 00:00:00.08, CPU = 00:00:00.07
1
current_block $DESIGN_NAME
{SOC_TOP.dlib:SOC_TOP.design}
link_block
Using libraries: SOC_TOP.dlib saed32rvt saed32sram
Linking block SOC_TOP.dlib:SOC_TOP.design
Warning: Unable to resolve reference to 'BUS_TOP' first referenced from module 'SOC_TOP'. (LNK-005)
Warning: Unable to resolve reference to 'NPU_IF' first referenced from module 'NPU_TOP_DWidth32'. (LNK-005)
Warning: Unable to resolve reference to 'NPU' first referenced from module 'NPU_TOP_DWidth32'. (LNK-005)
Information: User units loaded from library 'saed32rvt' (LNK-040)
Information: Block 'SOC_TOP.dlib:SOC_TOP.design' has 3 unbound instances. (LNK-073)
Information: Block 'SOC_TOP.dlib:SOC_TOP.design' has 3 unresolved references. (LNK-074)
Information: Total 3 mismatches are found on block 'SOC_TOP.dlib:SOC_TOP.design'. (DMM-116)
Design 'SOC_TOP' was successfully linked.
0
##################################
## RC parasitics, Placement site
## and Routing layer setup
##################################
read_parasitic_tech -layermap $LAYER_MAP_FILE($PARASITIC_WORST) -tlup $TLUPLUS_FILE($PARASITIC_WORST) -name $PARASITIC_WORST
1
read_parasitic_tech -layermap $LAYER_MAP_FILE($PARASITIC_BEST) -tlup $TLUPLUS_FILE($PARASITIC_BEST) -name $PARASITIC_BEST
1
set_attribute [get_site_defs $SITE_DEFAULT] symmetry $SITE_SYMMETRY
{unit}
set_attribute [get_site_defs $SITE_DEFAULT] is_default true
{unit}
set_attribute [get_layers $HORIZONTAL_ROUTING_LAYER_LIST] routing_direction horizontal
Information: The design specific attribute override for layer 'M1' is set in the current block 'SOC_TOP', because the actual library setting may not be overwritten. (ATTR-12)
Information: The design specific attribute override for layer 'M3' is set in the current block 'SOC_TOP', because the actual library setting may not be overwritten. (ATTR-12)
Information: The design specific attribute override for layer 'M5' is set in the current block 'SOC_TOP', because the actual library setting may not be overwritten. (ATTR-12)
Information: The design specific attribute override for layer 'M7' is set in the current block 'SOC_TOP', because the actual library setting may not be overwritten. (ATTR-12)
Information: The design specific attribute override for layer 'M9' is set in the current block 'SOC_TOP', because the actual library setting may not be overwritten. (ATTR-12)
{M1 M3 M5 M7 M9}
set_attribute [get_layers $VERTICAL_ROUTING_LAYER_LIST] routing_direction vertical
Information: The design specific attribute override for layer 'M2' is set in the current block 'SOC_TOP', because the actual library setting may not be overwritten. (ATTR-12)
Information: The design specific attribute override for layer 'M4' is set in the current block 'SOC_TOP', because the actual library setting may not be overwritten. (ATTR-12)
Information: The design specific attribute override for layer 'M6' is set in the current block 'SOC_TOP', because the actual library setting may not be overwritten. (ATTR-12)
Information: The design specific attribute override for layer 'M8' is set in the current block 'SOC_TOP', because the actual library setting may not be overwritten. (ATTR-12)
{M2 M4 M6 M8}
set_ignored_layers -min_routing_layer $MIN_ROUTING_LAYER
Information: The command 'set_ignored_layers' cleared the undo history. (UNDO-016)
1
set_ignored_layers -max_routing_layer $MAX_ROUTING_LAYER
1
##################################
## Load UPF, Floorplan
##################################
load_upf $UPF_FILE
Information: Loading UPF file '/home/AS20233757/AS501_assignment/pnr/design_data/SOC_TOP.upf' (FILE-007)
################################################################################
## AS501
## Final Project
## Unified Power Format (UPF)
################################################################################
## Copyright (c) 2024 by Smart Energy-Efficient Design Lab. (SEED), KAIST
## All rights reserved.
##
##                            Written by Jihwan Cho (jihwancho@kaist.ac.kr)
##                            Supervised by Wanyeong Jung (wanyeong@kaist.ac.kr)
################################################################################
################################################################################
# Create Supply Nets
create_supply_net VSS
create_supply_net VDD
# Create Supply Sets
create_supply_set SS_TOP -function {power VDD} -function {ground VSS}
# Create Power Domains
create_power_domain PD_TOP -supply {primary SS_TOP}
# Create Supply Ports
create_supply_port VSS -domain PD_TOP -direction in
create_supply_port VDD -domain PD_TOP -direction in
# Connect Supply Nets to Supply Ports
connect_supply_net VSS -ports VSS
connect_supply_net VDD -ports VDD
# Set Supply States
add_power_state -supply SS_TOP -state {ON -supply_expr {power == {FULL_ON 0.95} && ground == {FULL_ON 0.0}}}
1
commit_upf
Information: Related supplies are not explicitly specified on 167 port(s) and primary supplies (VDD, VSS) of top power domain will be assumed as the related supply. (UPF-467)
Information: Power intent has been successfully committed. (UPF-072)
Information: Total 0 isolation cell(s) in the design. (MV-021)
Information: Total 0 level shifter cell(s) in the design. (MV-021)
Information: Total 0 enable level shifter cell(s) in the design. (MV-021)
Information: Total 0 repeater cell(s) in the design. (MV-021)
Information: Total 0 retention cell(s) in the design. (MV-021)
Information: Total 0 power switch cell(s) in the design. (MV-021)
Information: Total 0 netlist change(s) and disconnections have been made to resolve conflicts between power intent and PG netlist. (UPF-073)
1
connect_pg_net
****************************************
Report : Power/Ground Connection Summary
Design : SOC_TOP
Version: V-2023.12
Date   : Tue Jun 11 22:55:28 2024
****************************************
P/G net name                  P/G pin count(previous/current)
--------------------------------------------------------------------------------
Power net VDD                 0/9103
Ground net VSS                0/9103
--------------------------------------------------------------------------------
Information: connections of 18206 power/ground pin(s) are created or changed.
1
source -echo $TCL_FLOORPLAN
################################################################################
## AS501
## Final Project
## Floorplan
################################################################################
## Copyright (c) 2024 by Smart Energy-Efficient Design Lab. (SEED), KAIST
## All rights reserved.
##
##                            Written by Jihwan Cho (jihwancho@kaist.ac.kr)
##                            Supervised by Wanyeong Jung (wanyeong@kaist.ac.kr)
################################################################################
################################################################################
## Don't touch
# Floorplan Initialization : Core area
set CORE_WIDTH 300
set CORE_HEIGHT 300
set CORE_OFFSET 20
initialize_floorplan -side_length [list $CORE_WIDTH $CORE_HEIGHT] -core_offset $CORE_OFFSET
Removing existing floorplan objects
Creating core...
Core utilization ratio = 63.25%
Unplacing all cells...
Creating site array...
Creating routing tracks...
Initializing floorplan completed.
# Place Hard macros
set CORE_REGION [get_attribute [get_core_area] -name bbox]
set SRAM48_WIDTH [get_attribute ICACHE/ICACHE_SRAM/SRAM48 -name width]
Warning: Nothing implicitly matched 'ICACHE/ICACHE_SRAM/SRAM48' (SEL-003)
set SRAM48_HEIGHT [get_attribute ICACHE/ICACHE_SRAM/SRAM48 -name height]
Warning: Nothing implicitly matched 'ICACHE/ICACHE_SRAM/SRAM48' (SEL-003)
set SRAM48_LOCATION [list [expr [lindex $CORE_REGION 1 0] - $SRAM48_HEIGHT] [expr [lindex $CORE_REGION 1 1] - $SRAM48_WIDTH]]
Error: missing operand at _@_
      in expression "319.8960 -_@_"
        Use error_info for more info. (CMD-013)
Information: script '/home/AS20233757/AS501_assignment/pnr/scripts_user/floorplan.tcl'
                stopped at line 28 due to error. (CMD-081)
Extended error info:
missing operand at _@_
in expression "319.8960 -_@_"
    (parsing expression "319.8960 -")
    invoked from within
"expr [lindex $CORE_REGION 1 0] - $SRAM48_HEIGHT"
    invoked from within
"list [expr [lindex $CORE_REGION 1 0] - $SRAM48_HEIGHT] [expr [lindex $CORE_REGION 1 1] - $SRAM48_WIDTH]"
    invoked from within
"set SRAM48_LOCATION [list [expr [lindex $CORE_REGION 1 0] - $SRAM48_HEIGHT] [expr [lindex $CORE_REGION 1 1] - $SRAM48_WIDTH]]"
    (file "/home/AS20233757/AS501_assignment/pnr/scripts_user/floorplan.tcl" line 28)
 -- End Extended Error Info
Information: script '/home/AS20233757/AS501_assignment/pnr/scripts/00_init_design.tcl'
                stopped at line 51 due to error. (CMD-081)
Extended error info:
missing operand at _@_
in expression "319.8960 -_@_"
    (parsing expression "319.8960 -")
    invoked from within
"expr [lindex $CORE_REGION 1 0] - $SRAM48_HEIGHT"
    invoked from within
"list [expr [lindex $CORE_REGION 1 0] - $SRAM48_HEIGHT] [expr [lindex $CORE_REGION 1 1] - $SRAM48_WIDTH]"
    invoked from within
"set SRAM48_LOCATION [list [expr [lindex $CORE_REGION 1 0] - $SRAM48_HEIGHT] [expr [lindex $CORE_REGION 1 1] - $SRAM48_WIDTH]]"
    (file "/home/AS20233757/AS501_assignment/pnr/scripts_user/floorplan.tcl" line 28)
    invoked from within
"source -echo $TCL_FLOORPLAN"
    (file "/home/AS20233757/AS501_assignment/pnr/scripts/00_init_design.tcl" line 51)
 -- End Extended Error Info
